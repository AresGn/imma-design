<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IMMA - Plateforme de Recherche d'Appartement</title>
  <link rel="stylesheet" href="./styles/main.css">
  <link rel="stylesheet" href="./components/Header.css">
  <link rel="stylesheet" href="./components/Hero.css">
  <link rel="stylesheet" href="./components/WhyImma.css">
  <link rel="stylesheet" href="./components/PropertySelection.css">
  <link rel="stylesheet" href="./components/Blog.css">
  <link rel="stylesheet" href="./components/SearchResults.css">
  <link rel="stylesheet" href="./components/Footer.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Leaflet CSS pour la carte -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <!-- HEADER IMMA - Design épuré -->
  <header class="header">
    <div class="container">
      <!-- Menu hamburger à gauche -->
      <button class="hamburger-menu" id="hamburger-toggle">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Logo centré -->
      <div class="header-brand">
        <img src="../logo.png" alt="IMMA" class="logo">
      </div>

      <!-- Boutons d'action à droite -->
      <div class="header-actions">
        <a href="#trouver-appartement" class="btn-find-apartment">Trouver un appartement</a>
        <a href="#espace-client" class="btn-client-space">Espace client</a>
      </div>
    </div>
  </header>

  <!-- Menu de navigation mobile/desktop -->
  <nav class="nav-menu" id="nav-menu">
    <div class="nav-menu-header">
      <img src="../logo.png" alt="IMMA" class="logo">
      <button class="nav-menu-close" id="nav-menu-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="nav-menu-items">
      <a href="#comment-ca-marche" class="nav-menu-item">Comment ça marche</a>
      <a href="#fonctionnalites" class="nav-menu-item">Fonctionnalités</a>
      <a href="#tarifs" class="nav-menu-item">Tarifs</a>
      <a href="#contact" class="nav-menu-item">Contact</a>
      <a href="#a-propos" class="nav-menu-item">À propos</a>
      <a href="#blog" class="nav-menu-item">Blog</a>
      <a href="#aide" class="nav-menu-item">Aide</a>
    </div>
  </nav>

  <!-- Overlay pour le menu -->
  <div class="nav-overlay" id="nav-overlay"></div>

  <!-- HERO SECTION IMMA - Focus Location -->
  <section class="hero">
    <div class="hero-bg">
      <img src="../hero.png" alt="Appartement moderne IMMA" class="hero-bg-img">
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title">
        Trouvez votre appartement
        <span class="text-gradient">sans effort</span>
      </h1>
      <p class="hero-description">
        IMMA automatise votre recherche d'appartement grâce à l'intelligence artificielle.
        Renseignez vos critères, notre IA s'occupe du reste : recherche, contact et organisation des visites.
      </p>

      <!-- Barre de recherche simplifiée pour la location -->
      <div class="search-bar">
        <div class="search-header">
          <h2 class="search-title">Commencez votre recherche</h2>
          <p class="search-subtitle">Trouvez l'appartement parfait en quelques clics</p>
        </div>

        <form class="search-form" id="apartment-search">
          <div class="search-field">
            <label for="property-type">
              <i class="fas fa-home icon"></i>
              Type de bien
            </label>
            <select name="property-type" id="property-type" required>
              <option value="">Sélectionner</option>
              <option value="studio">Studio</option>
              <option value="t1">T1</option>
              <option value="t2">T2</option>
              <option value="t3">T3</option>
              <option value="t4">T4</option>
              <option value="t5-plus">T5+</option>
            </select>
          </div>

          <div class="search-field">
            <label for="location">
              <i class="fas fa-map-marker-alt icon"></i>
              Localisation
            </label>
            <input type="text" name="location" id="location" placeholder="Ville, quartier..." required>
          </div>

          <div class="search-field">
            <label for="budget-min">
              <i class="fas fa-euro-sign icon"></i>
              Budget min
            </label>
            <input type="number" name="budget-min" id="budget-min" placeholder="500€" min="0">
          </div>

          <div class="search-field">
            <label for="budget-max">
              <i class="fas fa-euro-sign icon"></i>
              Budget max
            </label>
            <input type="number" name="budget-max" id="budget-max" placeholder="1500€" min="0">
          </div>

          <button type="submit" class="search-btn">
            <i class="fas fa-search"></i>
            <span>Rechercher</span>
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- SECTION RÉSULTATS DE RECHERCHE -->
  <section class="search-results" id="search-results">
    <div class="container">
      <div class="results-header">
        <h2>Résultats de votre recherche</h2>
        <p class="results-count" id="results-count">Nous avons trouvé plusieurs appartements correspondant à vos critères</p>
      </div>

      <!-- Carte interactive -->
      <div class="map-container">
        <div id="search-map">
          <div class="map-loading">
            <div class="loading-spinner"></div>
            <p>Chargement de la carte...</p>
          </div>
        </div>
      </div>

      <!-- Grille des résultats -->
      <div class="results-grid" id="results-grid">
        <!-- Les résultats seront générés dynamiquement -->
      </div>
    </div>
  </section>

  <!-- SECTION POURQUOI IMMA -->
  <section class="why-imma">
    <div class="container">
      <!-- En-tête de section -->
      <div class="section-header">
        <h2 class="section-title">Les défis de la recherche d'appartement</h2>
        <p class="section-subtitle">
          Chercher un appartement peut être frustrant et chronophage.
          IMMA résout ces problèmes grâce à l'intelligence artificielle.
        </p>
      </div>

      <!-- Liste des problèmes - Deux colonnes -->
      <div class="problems-container">
        <div class="problems-grid">
          <!-- Colonne 1 -->
          <div class="problems-column">
            <div class="problem-item">
              <h3>
                <div class="problem-icon">
                  <i class="fas fa-clock"></i>
                </div>
                Perte de temps considérable
              </h3>
              <p>
                La recherche d'appartement traditionnelle vous fait naviguer entre multiples sites
                (Le Bon Coin, PAP, SeLoger...) avec des recherches répétitives qui vous font perdre
                des heures précieuses chaque jour. Cette approche fragmentée est inefficace et épuisante.
              </p>
            </div>

            <div class="problem-item">
              <h3>
                <div class="problem-icon">
                  <i class="fas fa-phone"></i>
                </div>
                Contact manuel fastidieux
              </h3>
              <p>
                Vous devez contacter manuellement chaque agence ou propriétaire, souvent sans réponse
                ou avec des délais importants. Cette approche individuelle limite vos chances de succès
                et ralentit considérablement votre recherche.
              </p>
            </div>
          </div>

          <!-- Colonne 2 -->
          <div class="problems-column">
            <div class="problem-item">
              <h3>
                <div class="problem-icon">
                  <i class="fas fa-exclamation-triangle"></i>
                </div>
                Annonces de mauvaise qualité
              </h3>
              <p>
                Les plateformes regorgent d'annonces obsolètes, incomplètes ou en doublon qui créent
                de la frustration et des déplacements inutiles. Il est difficile de distinguer les
                vraies opportunités des annonces fantômes.
              </p>
            </div>

            <div class="problem-item">
              <h3>
                <div class="problem-icon">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                Coordination complexe des visites
              </h3>
              <p>
                Organiser efficacement les visites selon vos disponibilités et celles des propriétaires
                relève du casse-tête. Entre les créneaux incompatibles et les annulations de dernière
                minute, planifier devient un défi majeur.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Section solution -->
      <div class="solution-section">
        <div class="solution-header">
          <h2>Notre solution intelligente</h2>
          <p>IMMA révolutionne la recherche d'appartement grâce à l'automatisation</p>
        </div>

        <div class="solution-steps">
          <div class="step">
            <div class="step-image">
              <div class="step-number">1</div>
            </div>
            <div class="step-content">
              <h3>Définissez vos critères</h3>
              <p>Renseignez votre ville, budget, type de logement et préférences en quelques clics. Notre interface intuitive vous guide pas à pas.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-image">
              <div class="step-number">2</div>
            </div>
            <div class="step-content">
              <h3>L'IA recherche pour vous</h3>
              <p>Notre intelligence artificielle scanne automatiquement toutes les principales plateformes immobilières en temps réel pour vous.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-image">
              <div class="step-number">3</div>
            </div>
            <div class="step-content">
              <h3>Contact automatique</h3>
              <p>Messages personnalisés envoyés automatiquement aux agences et propriétaires selon vos critères et votre profil.</p>
            </div>
          </div>

          <div class="step">
            <div class="step-image">
              <div class="step-number">4</div>
            </div>
            <div class="step-content">
              <h3>Visites organisées</h3>
              <p>Planification intelligente des visites selon votre calendrier et vos disponibilités. Plus de stress, tout est automatisé.</p>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div class="cta-section">
          <h3>Prêt à simplifier votre recherche ?</h3>
          <p>Rejoignez des milliers d'utilisateurs qui ont trouvé leur appartement sans effort</p>
          <div class="cta-buttons">
            <a href="#commencer" class="btn-cta-primary">Commencer ma recherche</a>
            <a href="#demo" class="btn-cta-secondary">Voir la démo</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION NOTRE SÉLECTION DE BIENS IMMOBILIERS -->
  <section class="property-selection">
    <div class="container">
      <div class="property-header">
        <h2>Notre sélection de biens immobiliers pour vous</h2>
        <p>Découvrez une sélection d'appartements soigneusement choisis selon vos critères et les avis des anciens locataires</p>
      </div>

      <div class="properties-grid">
        <!-- Propriété 1 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../appartement-paris-11-sejour-G11.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★★</span>
              <span class="rating-value">4.8</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">1 250€/mois</div>
              <div class="property-type">Appartement T2</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 11ème, République
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>2 pièces</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>45 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 2 min</span>
              </div>
            </div>
            <p class="property-description">
              Charmant T2 rénové dans le quartier République. Proche de tous commerces et transports.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>

        <!-- Propriété 2 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../7-p3.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★☆</span>
              <span class="rating-value">4.2</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">950€/mois</div>
              <div class="property-type">Studio</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 18ème, Montmartre
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>1 pièce</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>28 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 5 min</span>
              </div>
            </div>
            <p class="property-description">
              Studio lumineux avec vue sur Montmartre. Idéal pour étudiant ou jeune actif.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>

        <!-- Propriété 3 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../Louvre-Only-9920039014142.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★★</span>
              <span class="rating-value">4.9</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">1 800€/mois</div>
              <div class="property-type">Appartement T3</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 1er, Louvre
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>3 pièces</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>65 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 1 min</span>
              </div>
            </div>
            <p class="property-description">
              Appartement d'exception face au Louvre. Prestations haut de gamme et emplacement unique.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>

        <!-- Propriété 4 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../3-p3.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★☆</span>
              <span class="rating-value">4.3</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">1 100€/mois</div>
              <div class="property-type">Appartement T2</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 13ème, Bibliothèque
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>2 pièces</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>42 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 3 min</span>
              </div>
            </div>
            <p class="property-description">
              Appartement moderne dans un quartier dynamique. Proche de la BNF et des transports.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>

        <!-- Propriété 5 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../1vn3ec25nv69yj79bfg7i98jdrxmij7k5hnnbaslw.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★★</span>
              <span class="rating-value">4.7</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">1 350€/mois</div>
              <div class="property-type">Appartement T2</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 9ème, Opéra
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>2 pièces</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>48 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 2 min</span>
              </div>
            </div>
            <p class="property-description">
              Élégant appartement haussmannien rénové. Quartier prestigieux avec tous commerces.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>

        <!-- Propriété 6 -->
        <div class="property-card">
          <div class="property-image" style="background-image: url('../unnamed.jpg')">
            <div class="property-rating">
              <span class="rating-stars">★★★★☆</span>
              <span class="rating-value">4.1</span>
            </div>
            <div class="property-overlay">
              <div class="property-price">850€/mois</div>
              <div class="property-type">Studio</div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i>
                Paris 20ème, Belleville
              </div>
            </div>
          </div>
          <div class="property-content">
            <div class="property-features">
              <div class="feature">
                <i class="fas fa-bed"></i>
                <span>1 pièce</span>
              </div>
              <div class="feature">
                <i class="fas fa-ruler-combined"></i>
                <span>25 m²</span>
              </div>
              <div class="feature">
                <i class="fas fa-subway"></i>
                <span>Métro 4 min</span>
              </div>
            </div>
            <p class="property-description">
              Studio cosy dans un quartier artistique et vivant. Parfait pour jeune professionnel.
            </p>
            <button class="contact-btn">Contacter le propriétaire</button>
          </div>
        </div>
      </div>

      <!-- Bouton Voir plus -->
      <div class="properties-cta">
        <button class="btn-see-more" id="see-more-properties">
          <span>Voir plus d'appartements</span>
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
  </section>

  <!-- SECTION BLOG -->
  <section class="blog-section">
    <div class="container">
      <div class="blog-header">
        <h2>Conseils et actualités immobilières</h2>
        <p>Découvrez nos derniers articles pour vous aider dans votre recherche d'appartement et rester informé des tendances du marché</p>
      </div>

      <div class="blog-grid">
        <!-- Article 1 -->
        <article class="blog-card">
          <div class="blog-image" style="background-image: url('../15443-location-meublee-mensuelle-en-courte-duree-dun-studio-confortable-refait-a-neuf-a-montorgueil-paris-2eme.jpg')">
            <div class="blog-category">Conseils</div>
          </div>
          <div class="blog-content">
            <div class="blog-meta">
              <div class="blog-date">
                <i class="fas fa-calendar-alt"></i>
                <span>15 Déc 2024</span>
              </div>
              <div class="blog-author">
                <i class="fas fa-user"></i>
                <span>Équipe IMMA</span>
              </div>
            </div>
            <h3 class="blog-title">
              <a href="#article-1">10 conseils pour réussir sa recherche d'appartement à Paris</a>
            </h3>
            <p class="blog-excerpt">
              Découvrez les stratégies essentielles pour optimiser votre recherche d'appartement dans la capitale.
              De la préparation du dossier aux visites, nos experts partagent leurs meilleurs conseils.
            </p>
            <a href="#article-1" class="blog-read-more">
              Lire la suite
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </article>

        <!-- Article 2 -->
        <article class="blog-card">
          <div class="blog-image" style="background-image: url('../1vn3ec25nv69yj79bfg7i98jdrxmij7k5hnnbaslw.jpg')">
            <div class="blog-category">Marché</div>
          </div>
          <div class="blog-content">
            <div class="blog-meta">
              <div class="blog-date">
                <i class="fas fa-calendar-alt"></i>
                <span>12 Déc 2024</span>
              </div>
              <div class="blog-author">
                <i class="fas fa-user"></i>
                <span>Analyse IMMA</span>
              </div>
            </div>
            <h3 class="blog-title">
              <a href="#article-2">Évolution des prix de location en 2024 : ce qu'il faut savoir</a>
            </h3>
            <p class="blog-excerpt">
              Analyse complète des tendances du marché locatif français. Comprendre les fluctuations
              de prix pour mieux négocier et anticiper vos recherches futures.
            </p>
            <a href="#article-2" class="blog-read-more">
              Lire la suite
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </article>

        <!-- Article 3 -->
        <article class="blog-card">
          <div class="blog-image" style="background-image: url('../unnamed.jpg')">
            <div class="blog-category">Technologie</div>
          </div>
          <div class="blog-content">
            <div class="blog-meta">
              <div class="blog-date">
                <i class="fas fa-calendar-alt"></i>
                <span>10 Déc 2024</span>
              </div>
              <div class="blog-author">
                <i class="fas fa-user"></i>
                <span>Tech IMMA</span>
              </div>
            </div>
            <h3 class="blog-title">
              <a href="#article-3">Comment l'IA révolutionne la recherche immobilière</a>
            </h3>
            <p class="blog-excerpt">
              Plongez dans les coulisses de notre technologie. Découvrez comment l'intelligence artificielle
              transforme la façon de chercher et trouver un logement.
            </p>
            <a href="#article-3" class="blog-read-more">
              Lire la suite
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </article>
      </div>

      <div class="blog-cta">
        <a href="#blog" class="btn-blog-all">
          <span>Voir tous les articles</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- FOOTER IMMA -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <!-- À propos d'IMMA -->
        <div class="footer-about">
          <img src="../logo.png" alt="IMMA" class="footer-logo">
          <p class="footer-description">
            IMMA automatise votre recherche d'appartement grâce à l'intelligence artificielle.
            Trouvez votre logement idéal sans effort, notre IA s'occupe de tout.
          </p>
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-link" aria-label="LinkedIn">
              <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="#" class="social-link" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
          </div>
        </div>

        <!-- Produit -->
        <div class="footer-column">
          <h4>Produit</h4>
          <ul class="footer-links">
            <li><a href="#fonctionnalites">Fonctionnalités</a></li>
            <li><a href="#comment-ca-marche">Comment ça marche</a></li>
            <li><a href="#tarifs">Tarifs</a></li>
            <li><a href="#demo">Démo</a></li>
            <li><a href="#api">API</a></li>
          </ul>
        </div>

        <!-- Support -->
        <div class="footer-column">
          <h4>Support</h4>
          <ul class="footer-links">
            <li><a href="#aide">Centre d'aide</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="#guides">Guides</a></li>
            <li><a href="#status">Statut du service</a></li>
          </ul>
        </div>

        <!-- Entreprise -->
        <div class="footer-column">
          <h4>Entreprise</h4>
          <ul class="footer-links">
            <li><a href="#a-propos">À propos</a></li>
            <li><a href="#blog">Blog</a></li>
            <li><a href="#carriere">Carrière</a></li>
            <li><a href="#presse">Presse</a></li>
            <li><a href="#partenaires">Partenaires</a></li>
          </ul>

          <!-- Newsletter -->
          <div style="margin-top: var(--space-lg);">
            <h4>Newsletter</h4>
            <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.875rem; margin-bottom: var(--space-sm);">
              Restez informé des nouveautés
            </p>
            <form class="newsletter-form">
              <input type="email" class="newsletter-input" placeholder="Votre email" required>
              <button type="submit" class="newsletter-btn">S'abonner</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Séparateur -->
      <div class="footer-divider"></div>

      <!-- Bas du footer -->
      <div class="footer-bottom">
        <div class="footer-copyright">
          © 2024 IMMA. Tous droits réservés.
        </div>
        <div class="footer-legal">
          <a href="#mentions-legales">Mentions légales</a>
          <a href="#politique-confidentialite">Politique de confidentialité</a>
          <a href="#conditions-utilisation">Conditions d'utilisation</a>
          <a href="#cookies">Cookies</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Leaflet JS pour la carte -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // IMMA - Menu Hamburger Simple
    document.addEventListener('DOMContentLoaded', function() {
      const hamburgerToggle = document.getElementById('hamburger-toggle');
      const navMenu = document.getElementById('nav-menu');
      const navMenuClose = document.getElementById('nav-menu-close');
      const navOverlay = document.getElementById('nav-overlay');

      // Fonction pour ouvrir le menu
      function openMenu() {
        if (navMenu) navMenu.classList.add('open');
        if (navOverlay) navOverlay.classList.add('open');
        document.body.style.overflow = 'hidden';
      }

      // Fonction pour fermer le menu
      function closeMenu() {
        if (navMenu) navMenu.classList.remove('open');
        if (navOverlay) navOverlay.classList.remove('open');
        document.body.style.overflow = '';
      }

      // Événements
      if (hamburgerToggle) {
        hamburgerToggle.addEventListener('click', openMenu);
      }

      if (navMenuClose) {
        navMenuClose.addEventListener('click', closeMenu);
      }

      if (navOverlay) {
        navOverlay.addEventListener('click', closeMenu);
      }

      // Fermer avec Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && navMenu && navMenu.classList.contains('open')) {
          closeMenu();
        }
      });

      // Fermer lors du clic sur un lien
      const navMenuItems = document.querySelectorAll('.nav-menu-item');
      navMenuItems.forEach(function(item) {
        item.addEventListener('click', closeMenu);
      });

      // Initialiser les autres fonctionnalités
      initSearchForm();
      initNewsletter();
      initScrollAnimations();
      initSeeMoreProperties();

      console.log('🏠 IMMA app initialized successfully');
    });

    // Localisations parisiennes populaires pour étudiants
    const parisLocations = [
      'Quartier Latin (5ème)', 'Saint-Germain-des-Prés (6ème)', 'Marais (3ème/4ème)',
      'Belleville (20ème)', 'Ménilmontant (20ème)', 'République (3ème/10ème/11ème)',
      'Bastille (11ème/12ème)', 'Nation (11ème/12ème)', 'Père Lachaise (20ème)',
      'Oberkampf (11ème)', 'Canal Saint-Martin (10ème)', 'Goncourt (11ème)',
      'Parmentier (11ème)', 'Voltaire (11ème)', 'Charonne (11ème)',
      'Buttes-Chaumont (19ème)', 'Jourdain (20ème)', 'Pyrénées (20ème)',
      'Gambetta (20ème)', 'Télégraphe (20ème)', 'Pelleport (20ème)',
      'Saint-Fargeau (20ème)', 'Porte de Bagnolet (20ème)', 'Alexandre Dumas (11ème)',
      'Avron (20ème)', 'Buzenval (20ème)', 'Maraîchers (20ème)',
      'Picpus (12ème)', 'Bel-Air (12ème)', 'Daumesnil (12ème)',
      'Michel Bizot (12ème)', 'Porte Dorée (12ème)', 'Liberté (12ème)',
      'Dugommier (12ème)', 'Montgallet (12ème)', 'Reuilly (12ème)',
      'Faidherbe-Chaligny (11ème)', 'Ledru-Rollin (12ème)', 'Gare de Lyon (12ème)',
      'Quai de la Rapée (12ème)', 'Austerlitz (13ème)', 'Place d\'Italie (13ème)',
      'Tolbiac (13ème)', 'Maison Blanche (13ème)', 'Porte d\'Italie (13ème)',
      'Porte de Choisy (13ème)', 'Porte d\'Ivry (13ème)', 'Pierre et Marie Curie (13ème)',
      'Olympiades (13ème)', 'Pont de Tolbiac (13ème)', 'Bibliothèque F. Mitterrand (13ème)',
      'Quai de la Gare (13ème)', 'Bercy (12ème)', 'Cour Saint-Émilion (12ème)',
      'Châtelet (1er/4ème)', 'Hôtel de Ville (4ème)', 'Saint-Paul (4ème)',
      'Pont Neuf (1er)', 'Louvre (1er)', 'Palais Royal (1er)',
      'Tuileries (1er)', 'Concorde (1er/8ème)', 'Champs-Élysées (8ème)',
      'Franklin D. Roosevelt (8ème)', 'George V (8ème)', 'Charles de Gaulle-Étoile (8ème/16ème/17ème)',
      'Argentine (17ème)', 'Porte Maillot (17ème)', 'Les Sablons (16ème)',
      'Pont de Neuilly (17ème)', 'Esplanade de La Défense (92)', 'La Défense (92)',
      'Châtelet-Les Halles (1er)', 'Étienne Marcel (2ème)', 'Sentier (2ème)',
      'Réaumur-Sébastopol (2ème/3ème)', 'Arts et Métiers (3ème)', 'Temple (3ème)',
      'Filles du Calvaire (3ème)', 'Saint-Sébastien-Froissart (3ème)', 'Chemin Vert (11ème)',
      'Bréguet-Sabin (11ème)', 'Sully-Morland (4ème)', 'Pont Marie (4ème)',
      'Rambuteau (3ème/4ème)', 'Châtelet (1er/4ème)', 'Pont Neuf (1er)',
      'Saint-Michel (5ème/6ème)', 'Odéon (6ème)', 'Saint-Germain-des-Prés (6ème)',
      'Saint-Sulpice (6ème)', 'Sèvres-Babylone (6ème/7ème)', 'Vaneau (7ème)',
      'Duroc (7ème/15ème)', 'Montparnasse (6ème/14ème/15ème)', 'Edgar Quinet (14ème)',
      'Raspail (6ème/14ème)', 'Denfert-Rochereau (6ème/14ème)', 'Mouton-Duvernet (14ème)',
      'Alésia (14ème)', 'Porte d\'Orléans (14ème)', 'Châtillon-Montrouge (92)',
      'Malakoff-Plateau de Vanves (92)', 'Malakoff-Rue Étienne Dolet (92)', 'Plaisance (14ème)',
      'Pernety (14ème)', 'Gaîté (14ème)', 'Montparnasse-Bienvenüe (6ème/14ème/15ème)',
      'Falguière (15ème)', 'Pasteur (15ème)', 'Volontaires (15ème)',
      'Vaugirard (15ème)', 'Convention (15ème)', 'Porte de Versailles (15ème)',
      'Corentin Celton (92)', 'Mairie d\'Issy (92)', 'Pont du Garigliano (15ème)',
      'Balard (15ème)', 'Lourmel (15ème)', 'Boucicaut (15ème)',
      'Félix Faure (15ème)', 'Commerce (15ème)', 'La Motte-Picquet-Grenelle (15ème)',
      'École Militaire (7ème)', 'La Tour-Maubourg (7ème)', 'Invalides (7ème)',
      'Pont de l\'Alma (7ème/8ème)', 'Alma-Marceau (8ème/16ème)', 'Iéna (16ème)',
      'Trocadéro (16ème)', 'Passy (16ème)', 'Bir-Hakeim (15ème/16ème)',
      'Dupleix (15ème)', 'Grenelle (15ème)', 'Cambronne (15ème)',
      'Sèvres-Lecourbe (15ème)', 'Pasteur (15ème)', 'Montparnasse-Bienvenüe (6ème/14ème/15ème)'
    ];

    // Gestion du formulaire de recherche
    function initSearchForm() {
      const searchForm = document.getElementById('apartment-search');
      const locationInput = document.getElementById('location');

      // Autocomplétion pour les localisations
      if (locationInput) {
        setupLocationAutocomplete(locationInput);
      }

      if (searchForm) {
        searchForm.addEventListener('submit', function(e) {
          e.preventDefault();

          const formData = new FormData(searchForm);
          const searchData = {
            propertyType: formData.get('property-type'),
            location: formData.get('location'),
            budgetMin: formData.get('budget-min'),
            budgetMax: formData.get('budget-max')
          };

          console.log('🔍 Recherche lancée:', searchData);

          // Vérifier que les champs sont remplis
          if (searchData.location && searchData.propertyType) {
            performSearch(searchData);
          } else {
            alert('Veuillez remplir au moins la localisation et le type de bien');
          }
        });
      }
    }

    // Configuration de l'autocomplétion
    function setupLocationAutocomplete(input) {
      const datalist = document.createElement('datalist');
      datalist.id = 'location-suggestions';

      parisLocations.forEach(location => {
        const option = document.createElement('option');
        option.value = location;
        datalist.appendChild(option);
      });

      input.setAttribute('list', 'location-suggestions');
      input.parentNode.appendChild(datalist);
    }

    // Effectuer la recherche et afficher les résultats
    function performSearch(searchData) {
      const resultsSection = document.getElementById('search-results');
      const resultsGrid = document.getElementById('results-grid');
      const resultsCount = document.getElementById('results-count');

      // Afficher la section des résultats
      resultsSection.classList.add('show');

      // Scroll vers les résultats
      setTimeout(() => {
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      }, 300);

      // Simuler des résultats
      const mockResults = generateMockResults(searchData);

      // Mettre à jour le compteur
      resultsCount.textContent = `${mockResults.length} appartements trouvés à ${searchData.location}`;

      // Afficher les résultats
      displayResults(mockResults);

      // Initialiser la carte
      setTimeout(() => {
        initMap(mockResults, searchData.location);
      }, 500);
    }

    // Gestion de la newsletter
    function initNewsletter() {
      const newsletterForm = document.querySelector('.newsletter-form');
      if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
          e.preventDefault();

          const email = newsletterForm.querySelector('.newsletter-input').value;
          console.log('📧 Inscription newsletter:', email);

          alert('Merci pour votre inscription ! (Fonctionnalité à implémenter)');
          newsletterForm.reset();
        });
      }
    }

    // Animations au scroll
    function initScrollAnimations() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);

      // Observer les éléments animés
      const animatedElements = document.querySelectorAll('.problem-item, .step, .property-card, .blog-card');
      animatedElements.forEach(function(el) {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
      });
    }

    // Gestion du bouton "Voir plus" pour les propriétés
    function initSeeMoreProperties() {
      const seeMoreBtn = document.getElementById('see-more-properties');
      if (seeMoreBtn) {
        seeMoreBtn.addEventListener('click', function() {
          // Animation du bouton
          seeMoreBtn.style.transform = 'scale(0.95)';
          setTimeout(function() {
            seeMoreBtn.style.transform = '';
          }, 150);

          // Révéler les propriétés cachées
          const hiddenProperties = document.querySelectorAll('.property-card:nth-child(n+4)');
          hiddenProperties.forEach(function(property, index) {
            setTimeout(function() {
              property.classList.add('show-more');
              property.style.animation = 'propertyFadeIn 0.8s ease-out forwards';
            }, index * 200);
          });

          // Masquer le bouton après utilisation
          setTimeout(function() {
            seeMoreBtn.style.opacity = '0';
            seeMoreBtn.style.transform = 'translateY(20px)';
            setTimeout(function() {
              seeMoreBtn.style.display = 'none';
            }, 300);
          }, 600);

          console.log('🏠 Propriétés supplémentaires révélées');
        });
      }
    }

    // Générer des résultats simulés
    function generateMockResults(searchData) {
      const images = [
        '../appartement-paris-11-sejour-G11.jpg',
        '../7-p3.jpg',
        '../3-p3.jpg',
        '../Louvre-Only-9920039014142.jpg',
        '../1vn3ec25nv69yj79bfg7i98jdrxmij7k5hnnbaslw.jpg',
        '../unnamed.jpg'
      ];

      const types = ['Studio', 'T1', 'T2', 'T3'];
      const ratings = [4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9];

      const results = [];
      const numResults = Math.floor(Math.random() * 4) + 3; // 3-6 résultats

      for (let i = 0; i < numResults; i++) {
        const type = searchData.propertyType || types[Math.floor(Math.random() * types.length)];
        const minBudget = parseInt(searchData.budgetMin) || 800;
        const maxBudget = parseInt(searchData.budgetMax) || 1500;
        const price = Math.floor(Math.random() * (maxBudget - minBudget)) + minBudget;

        results.push({
          id: i + 1,
          image: images[i % images.length],
          type: type,
          price: price,
          location: searchData.location,
          rating: ratings[Math.floor(Math.random() * ratings.length)],
          surface: Math.floor(Math.random() * 40) + 25,
          rooms: type === 'Studio' ? 1 : parseInt(type.replace('T', '')),
          description: `Bel appartement ${type.toLowerCase()} dans le quartier ${searchData.location}. Proche des transports et commerces.`,
          features: ['Métro 2-5 min', 'Commerces', 'Transports'],
          coordinates: [
            48.8566 + (Math.random() - 0.5) * 0.02,
            2.3522 + (Math.random() - 0.5) * 0.02
          ]
        });
      }

      return results;
    }

    // Afficher les résultats
    function displayResults(results) {
      const resultsGrid = document.getElementById('results-grid');
      resultsGrid.innerHTML = '';

      results.forEach((result, index) => {
        const card = document.createElement('div');
        card.className = 'result-card';
        card.style.animationDelay = `${index * 0.1}s`;

        card.innerHTML = `
          <div class="result-image" style="background-image: url('${result.image}')">
            <div class="result-badge">${result.type}</div>
            <div class="result-rating">
              <span class="rating-stars">★★★★${result.rating >= 4.5 ? '★' : '☆'}</span>
              <span>${result.rating}</span>
            </div>
          </div>
          <div class="result-content">
            <div class="result-price">${result.price}€/mois</div>
            <div class="result-title">${result.type} - ${result.surface}m²</div>
            <div class="result-location">
              <i class="fas fa-map-marker-alt"></i>
              ${result.location}
            </div>
            <div class="result-features">
              <div class="result-feature">
                <i class="fas fa-bed"></i>
                <span>${result.rooms} pièce${result.rooms > 1 ? 's' : ''}</span>
              </div>
              <div class="result-feature">
                <i class="fas fa-ruler-combined"></i>
                <span>${result.surface} m²</span>
              </div>
              <div class="result-feature">
                <i class="fas fa-subway"></i>
                <span>Métro proche</span>
              </div>
            </div>
            <div class="result-description">${result.description}</div>
            <div class="result-actions">
              <button class="btn-contact">Contacter</button>
              <button class="btn-favorite">
                <i class="fas fa-heart"></i>
              </button>
            </div>
          </div>
        `;

        resultsGrid.appendChild(card);
      });
    }

    // Initialiser la carte OpenStreetMap
    function initMap(results, location) {
      const mapElement = document.getElementById('search-map');
      mapElement.innerHTML = '';

      // Coordonnées de Paris par défaut
      const parisCoords = [48.8566, 2.3522];

      // Créer la carte
      const map = L.map('search-map').setView(parisCoords, 13);

      // Ajouter les tuiles OpenStreetMap
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
      }).addTo(map);

      // Ajouter les marqueurs pour chaque résultat
      results.forEach(result => {
        const marker = L.marker(result.coordinates).addTo(map);

        marker.bindPopup(`
          <div style="text-align: center; min-width: 200px;">
            <strong>${result.type} - ${result.price}€/mois</strong><br>
            <small>${result.location}</small><br>
            <small>${result.surface}m² • ${result.rooms} pièce${result.rooms > 1 ? 's' : ''}</small><br>
            <div style="margin-top: 8px;">
              <span style="color: #f59e0b;">★★★★${result.rating >= 4.5 ? '★' : '☆'}</span>
              <span style="margin-left: 4px;">${result.rating}</span>
            </div>
          </div>
        `);
      });

      // Ajuster la vue pour inclure tous les marqueurs
      if (results.length > 0) {
        const group = new L.featureGroup(results.map(result => L.marker(result.coordinates)));
        map.fitBounds(group.getBounds().pad(0.1));
      }
    }
  </script>
</body>
</html>
